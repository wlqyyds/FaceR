<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yx.dao.BaseInfoMapper">
<!--  <resultMap id="BaseResultMap" type="com.yx.po.Policy">
    &lt;!&ndash;
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 30 16:30:04 CST 2021.
    &ndash;&gt;
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="username" jdbcType="VARCHAR" property="username" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="realName" jdbcType="VARCHAR" property="realName" />
    <result column="sex" jdbcType="VARCHAR" property="sex" />
    <result column="birthday" jdbcType="DATE" property="birthday" />
    <result column="address" jdbcType="VARCHAR" property="address" />
    <result column="tel" jdbcType="VARCHAR" property="tel" />
    <result column="email" jdbcType="VARCHAR" property="email" />
    <result column="registerDate" jdbcType="TIMESTAMP" property="registerDate" />
    <result column="readerNumber" jdbcType="VARCHAR" property="readerNumber" />
  </resultMap>-->


    <update id="updataStatusByIdcard" parameterType="java.lang.String">
        update baseinfo
            <set>
                state = 1
            </set>
            <where>
                idcard = #{idcard}
            </where>
    </update>



    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultType="com.yx.po.Policy">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Mar 30 16:30:04 CST 2021.
        -->
        select *
        from policy
        where id = #{id}
    </select>

    <select id="findByIdcard" parameterType="java.lang.String" resultType="com.yx.po.Baseinfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Mar 30 16:30:04 CST 2021.
        -->
        select *
        from baseinfo
        where idcard = #{idcard}
    </select>

  <select id="findAll" resultType="com.yx.po.Baseinfo" parameterType="com.yx.po.Baseinfo">
        select * from baseinfo
      <where>
          <!--姓名-->
          <if test="name!=null">
              and name like '%${name}%'
          </if>
          <!--身份证-->
          <if test="idcard!=null">
              and idcard like '%${idcard}%'
          </if>
          <!--电话号-->
          <if test="ssnum!=null">
              and ssnum like '%${ssnum}%'
          </if>
          <!--<if test="type!=null">
              and type like '%${type}%'
          </if>-->
      </where>

  </select>

    <select id="findAll2" resultType="com.yx.po.Baseinfo" parameterType="com.yx.po.Baseinfo">
        select * from baseinfo
        <where>

            state = 0

            <!--姓名-->
            <if test="name!=null">
                and name like '%${name}%'
            </if>
            <!--身份证-->
            <if test="idcard!=null">
                and idcard like '%${idcard}%'
            </if>
            <!--电话号-->
            <if test="ssnum!=null">
                and ssnum like '%${ssnum}%'
            </if>

        </where>

    </select>

    <select id="findAll3" resultType="com.yx.po.Baseinfo" parameterType="com.yx.po.Baseinfo">
        select * from baseinfo
        <where>

            state = 1

            <!--姓名-->
            <if test="name!=null">
                and name like '%${name}%'
            </if>
            <!--身份证-->
            <if test="idcard!=null">
                and idcard like '%${idcard}%'
            </if>
            <!--电话号-->
            <if test="ssnum!=null">
                and ssnum like '%${ssnum}%'
            </if>

        </where>

    </select>


</mapper>